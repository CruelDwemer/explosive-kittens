import { LobbyChatMessage } from '../models'
import { BASE_URL } from '../../../shared/constants/api'

export const guesses = {
  one: [
    'Хм, это похоже на какое-то пушистое животное...',
    'Наверное, это питомец, который любит спать на диване?',
    'Может, это кошка? Такие изящные усы...',
    'Очень похоже на кота, но не уверен на все 100%',
    'У нее, кажется, длинный хвост... кошка?',
    'Может, это тигр... хотя слишком маленький для тигра.',
    'Пушистый комочек, как будто мурлыкающий...',
    'Животное, которое любит молоко?',
    'Скорее всего, это котенок.',
    'Эти уши напоминают мне кошку!',
    'Зверек, который ловит мышей?',
    'Может быть, это пантера? Но какая-то очень маленькая.',
    'Может, домашний любимец? Похоже на кошку.',
    'У нее мягкая шерсть... кошка?',
    'Наверное, это тот, кто любит коробки?',
    'Чувствую, это существо — кот.',
    'Что-то подсказывает, что это кошка.',
    'Животное с мягким мехом… думаю, кошка.',
    'Скорее всего, это котенок.',
    'Это точно кошка!', // верный ответ
  ],
  two: [
    'Хм, это что-то растущее вверх.',
    'Кажется, это что-то с корнями в земле?',
    'Возможно, это дерево? У него есть ветви и листья.',
    'Похоже на растение, но большое… дерево?',
    'Что-то высокое, с ветками… может, это дуб?',
    'Наверное, это место, где обитают птицы.',
    'Скорее всего, это дерево, оно высокое.',
    'Оно дает тень. Может, дерево?',
    'Большое растение с корнями, наверное, дерево.',
    'Очень похоже на лесное растение.',
    'На нем можно увидеть листья, дерево?',
    'Возможно, это ствол? Как у дерева.',
    'Этим летом рядом с таким можно спрятаться от солнца.',
    'Кажется, это что-то стоящее в лесу.',
    'Ботаника сказала бы, что это дерево.',
    'Может, это дуб или сосна?',
    'Наверное, это большое растение — скорее всего, дерево.',
    'Похоже на дерево, у него ствол и листья.',
    'Похоже, что это дерево, растет высоко.',
    'Точно, это дерево!', // верный ответ
  ],
  three: [
    'Это что-то с колесами… для перемещения?',
    'Кажется, это что-то для быстрой езды.',
    'Может, это велосипед? Похоже на два колеса.',
    'Не машина, но явно транспорт.',
    'Очень похоже на что-то, на чем ездят дети.',
    'Два колеса, руль — возможно, это велосипед.',
    'Это явно не автомобиль… наверное, велосипед.',
    'Транспортное средство, экологично… велосипед?',
    'Что-то для прогулок по паркам?',
    'Это для езды, два колеса… велосипед?',
    'Наверное, можно использовать, чтобы кататься по городу.',
    'Очень похоже на байк… но без мотора.',
    'Кажется, что это детская игрушка на колесах.',
    'Что-то связанное с улицами и транспортом.',
    'Транспорт с педалями — велосипед?',
    'Думаю, это велосипед.',
    'Средство для прогулок, вроде велосипеда.',
    'Экологичный транспорт… наверно, велосипед?',
    'Скорее всего, это велосипед.',
    'Точно, это велосипед!', // верный ответ
  ],
  four: [
    'Это что-то жидкое и белое.',
    'Хм, может, это что-то полезное для здоровья?',
    'Очень похоже на молоко.',
    'Скорее всего, это напиток, который пьют утром.',
    'Это похоже на напиток для завтрака.',
    'Похоже на что-то, что добавляют в кофе.',
    'Напиток из коровы? Возможно, молоко.',
    'Это белая жидкость… молоко?',
    'Напиток с лактозой? Думаю, это молоко.',
    'Точно что-то молочное, возможно, молоко.',
    'Эту жидкость часто пьют с печеньем.',
    'Это может быть полезно для костей… молоко?',
    'Напиток, связанный с кальцием.',
    'Возможно, это основа для йогурта.',
    'Жидкость для детей? Возможно, молоко.',
    'Очень похоже на молоко.',
    'Напиток из коровы — наверно, молоко.',
    'Точно молоко.',
    'Выглядит как молоко.',
    'Это молоко!', // верный ответ
  ],
  five: [
    'Что-то яркое, светящее на небе.',
    'Может быть, это источник тепла?',
    'Кажется, это звезда. Может, солнце?',
    'Светит, похоже на солнце.',
    'Что-то круглое и очень яркое… наверно, солнце?',
    'Это явно дает свет и тепло.',
    'Похоже на звезду, которая близка к нам.',
    'Наверное, это то, что светит днем.',
    'Теплый свет, думаю, это солнце.',
    'Это явно солнце.',
    'Это точно не луна… слишком ярко.',
    'Небесное светило, думаю, солнце.',
    'Что-то яркое и желтое.',
    'Скорее всего, это дневной свет… солнце?',
    'Может быть, это звезда — солнце?',
    'Кажется, это солнце.',
    'Светит сверху, похоже на солнце.',
    'Теплое и яркое, наверно, солнце.',
    'Это солнце.',
    'Точно, это солнце!', // верный ответ
  ],
  six: [
    'Эм... это, может, щенок какой-то? Или, подождите, кролик с ушами?',
    'Хм, похоже на пушистое животное, но не уверен. Енот или что-то похожее?',
    'Похоже на шпица? Хотя, нет, может, просто пушистый зверек.',
    'Это животное с короткими лапами. Вельш-корги, что ли?',
    'Кажется, какое-то крупное существо. Может, медведь? Хотя не уверен.',
    'Так, вроде вижу пятнышки. Наверное, это далматинец!',
    'Морда немного напоминает мопса... но точно сказать сложно.',
    'Хм, это выглядит как маленькая лиса или... нет, все-таки чихуахуа?',
    'Может, это хаски? Но глаза, кажется, не такие яркие, как ожидалось.',
    'Похоже на собака с длинными лапами и грустными глазами. Возможно, борзая, но могу ошибиться.',
  ],
  seven: [
    'Ммм, это что-то с кучей страниц, вроде газеты или журнала?',
    'Похоже на старый сверток. Может, это какое-то древнее письмо?',
    'Это какой-то предмет с обложкой. Может, это альбом для фотографий?',
    'На картинке что-то с текстом. Это похоже на заметки или блокнот.',
    'Мне кажется, это что-то вроде книжной полки, но точно сказать сложно.',
    'Это, похоже, книга, с каким-то рисунком на обложке.',
    'Ммм, выглядит как что-то с картинками, вроде комиксов, но тоже не уверен.',
    'Кажется, это толстая тетрадь, может, в ней что-то написано?',
    'Похоже на какой-то старинный свиток или манускрипт.',
    'Это явно какой-то объект с обложкой, возможно, книга с текстом внутри.',
  ],
  eight: [
    'Эмм... это какое-то существо с крыльями? Похоже на летучую мышь, что ли?',
    'Хм, это что-то, что может летать... или, может, просто бабочка?',
    'Похоже на пернатого зверя. Может, это какое-то насекомое?',
    'Это животное с длинными ушами. Похоже на зайца, а не на птицу.',
    'На картинке что-то с крыльями. Может, это летучая мышь?',
    'Это, вероятно, птица, с ярким оперением и крыльями.',
    'Может, это пчела? Или все-таки птица с яркими перьями?',
    'Похоже на какого-то существа с крыльями, может, это орел.',
    'Это точно что-то с перьями, скорее всего, птица.',
    'Похоже на птицу с красивыми перьями и длинным хвостом.',
  ],
  nine: [
    'Это какое-то большое водное пространство. Может, это озеро?',
    'Похоже на море, с большими волнами, но тоже может быть река.',
    'Это, наверное, просто водоем, не знаю, может, озеро или река.',
    'Вижу воду, но это не озеро. Может быть, какой-то ручей?',
    'Это может быть большая река, или даже водопад, трудно сказать.',
    'Здесь какая-то огромная масса воды. Это, скорее всего, река.',
    'Похоже на реку, но может, это просто берег моря.',
    'Похоже, это просто большой водоем, не знаю точно.',
    'Это, скорее всего, река, но может быть и озеро, трудно понять.',
    'Здесь много воды и движения, похоже на река.',
  ],
  ten: [
    'Это что-то яркое и теплое, может, это просто свет?',
    'Кажется, это что-то светящееся, но не уверен. Может, лампочка?',
    'Это, возможно, что-то горячее, вроде раскаленной стали.',
    'На картинке что-то яркое и светящееся, похоже на пламя.',
    'Это может быть светящийся предмет, но вроде бы не огонь.',
    'Это огонь, без сомнений, с ярким пламенем и теплотой.',
    'Похоже на то, что горит. Это огонь, возможно, костер.',
    'Это что-то, что горит, наверное, это огонь.',
    'Может, это раскаленный металл, хотя может, это и огонь.',
    'Похоже на огонь, с пламенем и теплотой, точно не ошибка.',
  ],
}

const shuffleArray = (array: string[]) => {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1))
    ;[array[i], array[j]] = [array[j], array[i]]
  }
  return array
}

const wordToRandomNumber = (word: string): number => {
  return word.split('').reduce((acc, char) => {
    const randomNum = Math.floor(Math.random() * 100) + char.charCodeAt(0)
    return acc + randomNum
  }, 0)
}

// Отправка тестовых сообщений
export const testingNewMessages = (
  word: string,
  callback: (message: LobbyChatMessage) => boolean
) => {
  const guessArray = guesses[word as keyof typeof guesses]
  console.log(guesses, word, '--')
  const arr = shuffleArray(guessArray)
  let messageIndex = 0

  return setInterval(() => {
    // Проверяем, угадано ли слово
    // if (/* условие, когда слово угадано */) {
    //   clearInterval(intervalId)
    //   return
    // }

    // Отправляем текущее сообщение из массива
    const message = arr[messageIndex]
    callback({
      id: wordToRandomNumber(message),
      date: new Date().toISOString(),
      userId: 66,
      userName: 'Компьютер(ИИ)',
      userLogin: 'ii',
      userAvatar: `${BASE_URL}/resources/cfa6ee69-52e7-44b1-9414-b0fe96bc458c/b072c577-9cf6-48a0-96c8-e59551fb081c_Cat.jpg`,
      content: message,
    })

    // Переходим к следующему сообщению
    messageIndex = (messageIndex + 1) % arr.length
  }, 5000)
}
